<!--
	作者：444811716@qq.com
	时间：2017-08-08
	描述：jquery-qrcode.js生成二维码
-->
<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>生成二维码</title>
	</head>

	<body>
		<div>qrcode_0</div>
		<div id="qrcode_0"></div>
		<div>qrcode_1</div>
		<div id="qrcode_1"></div>
		<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
		<script type="text/javascript" src="../lib/jquery/jquery.qrcode.min.js"></script>
		<script>
			$('#qrcode_0').qrcode(toUtf8("要编码的字符串"));
			// 更详细的配置
			$('#qrcode_1').qrcode({
				text: "https://www.baidu.com", // 要编码的字符串
				width: 150, // 定义宽度
				height: 150, // 定义高度
//				background: "gold", // 背景色
				foreground: "deepskyblue" // 前景色
			});
			/**
			 * 中文转utf-8
			 * @param {Object} str
			 */
			function toUtf8(str) {
				var out, i, len, c;
				out = "";
				len = str.length;
				for(i = 0; i < len; i++) {
					c = str.charCodeAt(i);
					if((c >= 0x0001) && (c <= 0x007F)) {
						out += str.charAt(i);
					} else if(c > 0x07FF) {
						out += String.fromCharCode(0xE0 | ((c >> 12) & 0x0F));
						out += String.fromCharCode(0x80 | ((c >> 6) & 0x3F));
						out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
					} else {
						out += String.fromCharCode(0xC0 | ((c >> 6) & 0x1F));
						out += String.fromCharCode(0x80 | ((c >> 0) & 0x3F));
					}
				}
				return out;
			}
		</script>
	</body>

</html>